<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>PDF edit and create</title>

<style>
  TEXTAREA { width:400px; height: 4em; background-color: lightyellow; }
  TD { vertical-align: top; }
</style>
<script type="text/javascript">

function Send(msg) {
  try {
    var http = new XMLHttpRequest();
    http.open('POST', '/', false);
    //xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8");
    //xmlhttp.setRequestHeader("Content-Length", XMLtoSend.length);
    http.send(msg);
    
    var J = JSON.parse(http.responseText);
    alert('File: ' + J.file + '\nCollection: ' + J.collection + '\nAction: ' + J.action + '\nTheme: ' + J.theme + '\nContent: ' + J.content  + '\nServer: ' + J.server  + '\nModified: ' + J.modified.toString() );
    return J;
  } catch(e) { alert(e.message); return 'Error!'; }
}

function id(x) { return document.getElementById(x); }
function getAndSend( ob ) {
  var J = {};
  J.collection = 'files';
  J.file = 'The new PDF file';
  J.theme = id('theme').value.trim();
  J.content = id('content').value.trim();
  J.action = ob.options[ob.selectedIndex].text;
  Send( JSON.stringify(J) );
}

</script>
</head>
<body>

<table>
  <tr>
    <td>Action:</td>
    <td>
      <select onChange='getAndSend(this)'>
        <option>If exists</option>
        <option>Save</option>
        <option>Delete</option>
        <option>Rename</option>
      </select>
    </td>
  </tr>
  <tr>
    <td>Theme:</td>
    <td>
      <TEXTAREA id='theme'>
      Primul. Un oarecare text.
      </TEXTAREA>
    </td>
  </tr>
  <tr>
    <td>Content:</td>
    <td>
      <TEXTAREA id='content'>
      Al doilea. Un oarecare text.
      </TEXTAREA>
    </td>
  </tr>
</table>
</body>
</html>
